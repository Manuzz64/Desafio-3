<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>!Admin!</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='fonts.css') }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=SUSE:wght@100..800&family=Tektur:wght@400..900&display=swap"
      rel="stylesheet"
    />
</head>
<body>
    <h1>Admin Panel</h1>

    <h2>Adicionar utilizador</h2>
    <form method="POST">
        <input type ="text" name="username" placeholder="Username" required>
        <input type ="password" name="passuser" placeholder="Password" required>
        <label>
            <input type ="checkbox" name="is_admin" value="1">
            Admin?
        </label>
        <button type="submit" name="add_user">Adicionar Utilizador</button>
    </form>

    <h2>Remover utilizador</h2>
    <form method="POST">
        <input type ="text" name="username" placeholder="Username" required>
        <button type="remove" name="remove_user">Remover Utilizador</button>
    </form>
    
    <h2>Fazer um utilizador admin</h2>
    <form method="POST">
        <input type="text" name="username" placeholder="Username" required>
        <button type="submit" name="make_admin" style="display:inline-block;">Fazer admin</button>
        <button type="remove" name="remove_admin" style="display:inline-block;">Remover admin</button>
    </form>

    <h2>Adicionar documento</h2>
    <form method="POST" enctype="multipart/form-data">
        <input type="text" name="filename" placeholder="Nome do Ficheiro" required>
        <input type="text" name="filelink" placeholder="Link do Ficheiro" required>
        <button type="submit" name="add_document">Adicionar Documento</button>
    </form>

    <h2>Utilizadores</h2>
    <ul>
        {% for user in users %}
            <li>{{ user.username }}</li>
        {% endfor %}
    </ul>

    <h2>Documentos</h2>
    <ul>
        {% for documento in documentos %}
            <li>{{ documento.filename }} - (adicionado por {{ documento.username }})<a href="{{ documento.filelink }}">Link</a></li>
        {% endfor %}
    </ul>

    <a href="{{ url_for('logout') }}">Logout</a>

</body>
</html>